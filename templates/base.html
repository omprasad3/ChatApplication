<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Chat app</title>
		<link href="{{url_for('static', filename='css/bootstrap.min.css')}}" rel="stylesheet"/>
		<!-- below is the JS import for bootstrap.bundle.min.js -->
		<script src="{{url_for('static', filename='js/bootstrap.bundle.min.js')}}"></script>
		<!-- below is the JS import for socketio.js -->
		<script src="{{url_for('static', filename='js/socket.io.js')}}"></script>
		<style>
		#delete-user-option:hover, #delete-user-option:focus {
			background-color: red !important;
			color: white !important;
		}
		#delete-channel-option:hover, #delete-channel-option:focus {
			background-color: red !important;
			color: white !important;
		}
		.dropdown-item:hover, .dropdown-item:focus{
			color: white!important;
			background-color: #0d6efd !important;
		}
		.rotate-me {
			transform: rotate(15deg);
			transition: transform 1.5s ease;
		}
		.rotate-me:hover {
			transform: rotate(50deg);
		}
		</style>

	</head>
	<!--<body class="bg-dark text-light">-->
	<body class="d-flex flex-column vh-100">
		<nav class="navbar navbar-expand navbar-dark bg-dark">
			<p class="navbar-brand h1 lh-lg fw-bold ms-5">CHAT APPLICATION</p>
		</nav> 
		{% block content %} {% endblock %}
		{% if error is defined %}
		<script>
		document.addEventListener("DOMContentLoaded", function() {
		var modal = new bootstrap.Modal(document.getElementById('errorModal'));
		modal.show();
		});
		</script>
		{% endif %}

		{% if info is defined %}
		<script>
		document.addEventListener("DOMContentLoaded", function() {
		var modal = new bootstrap.Modal(document.getElementById('infoModal'));
		modal.show();
		});
		</script>
		{% endif %}

		{% if success is defined %}
		<script>
		document.addEventListener("DOMContentLoaded", function() {
		var modal = new bootstrap.Modal(document.getElementById('successModal'));
		modal.show();
		});
		</script>
		{% endif %}

		<div class="modal fade" data-bs-backdrop="static" id="errorModal" tabindex="-1">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-body d-flex p-5"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="30px" height="30px" fill="red" class="me-3"><path d="M183.1 137.4C170.6 124.9 150.3 124.9 137.8 137.4C125.3 149.9 125.3 170.2 137.8 182.7L275.2 320L137.9 457.4C125.4 469.9 125.4 490.2 137.9 502.7C150.4 515.2 170.7 515.2 183.2 502.7L320.5 365.3L457.9 502.6C470.4 515.1 490.7 515.1 503.2 502.6C515.7 490.1 515.7 469.8 503.2 457.3L365.8 320L503.1 182.6C515.6 170.1 515.6 149.8 503.1 137.3C490.6 124.8 470.3 124.8 457.8 137.3L320.5 274.7L183.1 137.4z"/></svg><b>{{error}}</b></div>
					<div class="modal-footer">
						<button style="width:200px;" type="button" class="btn btn-primary mx-auto" data-bs-dismiss="modal"><svg width="30px" height="30px" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><path d="M144 224C161.7 224 176 238.3 176 256L176 512C176 529.7 161.7 544 144 544L96 544C78.3 544 64 529.7 64 512L64 256C64 238.3 78.3 224 96 224L144 224zM334.6 80C361.9 80 384 102.1 384 129.4L384 133.6C384 140.4 382.7 147.2 380.2 153.5L352 224L512 224C538.5 224 560 245.5 560 272C560 291.7 548.1 308.6 531.1 316C548.1 323.4 560 340.3 560 360C560 383.4 543.2 402.9 521 407.1C525.4 414.4 528 422.9 528 432C528 454.2 513 472.8 492.6 478.3C494.8 483.8 496 489.8 496 496C496 522.5 474.5 544 448 544L360.1 544C323.8 544 288.5 531.6 260.2 508.9L248 499.2C232.8 487.1 224 468.7 224 449.2L224 262.6C224 247.7 227.5 233 234.1 219.7L290.3 107.3C298.7 90.6 315.8 80 334.6 80z"/></svg></button>
					</div>
				</div>
			</div>
		</div>
		<div class="modal fade" data-bs-backdrop="static" id="successModal" tabindex="-1">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-body d-flex p-5"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" height="35px" width="35px" fill="green" class="me-2"><path d="M530.8 134.1C545.1 144.5 548.3 164.5 537.9 178.8L281.9 530.8C276.4 538.4 267.9 543.1 258.5 543.9C249.1 544.7 240 541.2 233.4 534.6L105.4 406.6C92.9 394.1 92.9 373.8 105.4 361.3C117.9 348.8 138.2 348.8 150.7 361.3L252.2 462.8L486.2 141.1C496.6 126.8 516.6 123.6 530.9 134z"/></svg><b>{{success}}</b></div>
					<div class="modal-footer">
						<button style="width:200px;" type="button" class="btn btn-success mx-auto" data-bs-dismiss="modal"><svg width="30px" height="30px" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><path d="M144 224C161.7 224 176 238.3 176 256L176 512C176 529.7 161.7 544 144 544L96 544C78.3 544 64 529.7 64 512L64 256C64 238.3 78.3 224 96 224L144 224zM334.6 80C361.9 80 384 102.1 384 129.4L384 133.6C384 140.4 382.7 147.2 380.2 153.5L352 224L512 224C538.5 224 560 245.5 560 272C560 291.7 548.1 308.6 531.1 316C548.1 323.4 560 340.3 560 360C560 383.4 543.2 402.9 521 407.1C525.4 414.4 528 422.9 528 432C528 454.2 513 472.8 492.6 478.3C494.8 483.8 496 489.8 496 496C496 522.5 474.5 544 448 544L360.1 544C323.8 544 288.5 531.6 260.2 508.9L248 499.2C232.8 487.1 224 468.7 224 449.2L224 262.6C224 247.7 227.5 233 234.1 219.7L290.3 107.3C298.7 90.6 315.8 80 334.6 80z"/></svg></button>
					</div>
				</div>
			</div>
		</div>
		<div class="modal fade" data-bs-backdrop="static" id="infoModal" tabindex="-1">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-body d-flex p-5"><svg class="me-3" width="35px" height="35px" fill="#ffc107" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><path d="M320 64C334.7 64 348.2 72.1 355.2 85L571.2 485C577.9 497.4 577.6 512.4 570.4 524.5C563.2 536.6 550.1 544 536 544L104 544C89.9 544 76.8 536.6 69.6 524.5C62.4 512.4 62.1 497.4 68.8 485L284.8 85C291.8 72.1 305.3 64 320 64zM320 416C302.3 416 288 430.3 288 448C288 465.7 302.3 480 320 480C337.7 480 352 465.7 352 448C352 430.3 337.7 416 320 416zM320 224C301.8 224 287.3 239.5 288.6 257.7L296 361.7C296.9 374.2 307.4 384 319.9 384C332.5 384 342.9 374.3 343.8 361.7L351.2 257.7C352.5 239.5 338.1 224 319.8 224z"/></svg><b>{{info}}</b></div>
					<div class="modal-footer">
						<button style="width:200px;" type="button" class="btn btn-warning mx-auto" data-bs-dismiss="modal"><svg width="30px" height="30px" fill="white" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><path d="M144 224C161.7 224 176 238.3 176 256L176 512C176 529.7 161.7 544 144 544L96 544C78.3 544 64 529.7 64 512L64 256C64 238.3 78.3 224 96 224L144 224zM334.6 80C361.9 80 384 102.1 384 129.4L384 133.6C384 140.4 382.7 147.2 380.2 153.5L352 224L512 224C538.5 224 560 245.5 560 272C560 291.7 548.1 308.6 531.1 316C548.1 323.4 560 340.3 560 360C560 383.4 543.2 402.9 521 407.1C525.4 414.4 528 422.9 528 432C528 454.2 513 472.8 492.6 478.3C494.8 483.8 496 489.8 496 496C496 522.5 474.5 544 448 544L360.1 544C323.8 544 288.5 531.6 260.2 508.9L248 499.2C232.8 487.1 224 468.7 224 449.2L224 262.6C224 247.7 227.5 233 234.1 219.7L290.3 107.3C298.7 90.6 315.8 80 334.6 80z"/></svg></button>
					</div>
				</div>
			</div>
		</div>
		<script>
		const eyeShowSVG = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="30px" height="30px" fill="currentColor"><path d="M320 96C239.2 96 174.5 132.8 127.4 176.6C80.6 220.1 49.3 272 34.4 307.7C31.1 315.6 31.1 324.4 34.4 332.3C49.3 368 80.6 420 127.4 463.4C174.5 507.1 239.2 544 320 544C400.8 544 465.5 507.2 512.6 463.4C559.4 419.9 590.7 368 605.6 332.3C608.9 324.4 608.9 315.6 605.6 307.7C590.7 272 559.4 220 512.6 176.6C465.5 132.9 400.8 96 320 96zM176 320C176 240.5 240.5 176 320 176C399.5 176 464 240.5 464 320C464 399.5 399.5 464 320 464C240.5 464 176 399.5 176 320zM320 256C320 291.3 291.3 320 256 320C244.5 320 233.7 317 224.3 311.6C223.3 322.5 224.2 333.7 227.2 344.8C240.9 396 293.6 426.4 344.8 412.7C396 399 426.4 346.3 412.7 295.1C400.5 249.4 357.2 220.3 311.6 224.3C316.9 233.6 320 244.4 320 256z"/></svg>`;

		const eyeHideSVG = `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="30px" height="30px" fill="currentColor"><path d="M73 39.1C63.6 29.7 48.4 29.7 39.1 39.1C29.8 48.5 29.7 63.7 39 73.1L567 601.1C576.4 610.5 591.6 610.5 600.9 601.1C610.2 591.7 610.3 576.5 600.9 567.2L504.5 470.8C507.2 468.4 509.9 466 512.5 463.6C559.3 420.1 590.6 368.2 605.5 332.5C608.8 324.6 608.8 315.8 605.5 307.9C590.6 272.2 559.3 220.2 512.5 176.8C465.4 133.1 400.7 96.2 319.9 96.2C263.1 96.2 214.3 114.4 173.9 140.4L73 39.1zM236.5 202.7C260 185.9 288.9 176 320 176C399.5 176 464 240.5 464 320C464 351.1 454.1 379.9 437.3 403.5L402.6 368.8C415.3 347.4 419.6 321.1 412.7 295.1C399 243.9 346.3 213.5 295.1 227.2C286.5 229.5 278.4 232.9 271.1 237.2L236.4 202.5zM357.3 459.1C345.4 462.3 332.9 464 320 464C240.5 464 176 399.5 176 320C176 307.1 177.7 294.6 180.9 282.7L101.4 203.2C68.8 240 46.4 279 34.5 307.7C31.2 315.6 31.2 324.4 34.5 332.3C49.4 368 80.7 420 127.5 463.4C174.6 507.1 239.3 544 320.1 544C357.4 544 391.3 536.1 421.6 523.4L357.4 459.2z"/></svg>`;

		// Example starter JavaScript for disabling form submissions if there are invalid fields
		(function () {
		'use strict'

		// Fetch all the forms we want to apply custom Bootstrap validation styles to
		var forms = document.querySelectorAll('.needs-validation')

		// Loop over them and prevent submission
		Array.prototype.slice.call(forms)
		.forEach(function (form) {
		form.addEventListener('submit', function (event) {
		if (!form.checkValidity()) {
		event.preventDefault()
		event.stopPropagation()
		}
		form.classList.add('was-validated')
		}, false)
		})
		})()

		const togglePassword = document.getElementById("togglePassword");
		const passwordInput = document.getElementById("passwordInput");
		togglePassword.addEventListener("click", togglePass);
		function togglePass(){
		const isPassword = passwordInput.type === "password";
		passwordInput.type = isPassword ? "text" : "password";
		togglePassword.innerHTML = isPassword ? eyeHideSVG : eyeShowSVG;
		}
		togglePass();
		</script>
	</body>
</html>
