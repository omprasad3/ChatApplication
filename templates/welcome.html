{% extends 'base.html' %}

	{% block content %}
	<div class="d-flex flex-column p-5 mx-auto my-auto rounded-4 shadow-lg border-2 border border-primary">
	<div id="user-dropdown" class="dropdown" align="right">
		<button class="btn btn-lg btn-primary shadow-sm me-5 border-2 rounded-3" style="" style="width:160px;" data-bs-toggle="dropdown"><svg widht="30px" height="30px" fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640"><path d="M96 320C96 289.1 121.1 264 152 264C182.9 264 208 289.1 208 320C208 350.9 182.9 376 152 376C121.1 376 96 350.9 96 320zM264 320C264 289.1 289.1 264 320 264C350.9 264 376 289.1 376 320C376 350.9 350.9 376 320 376C289.1 376 264 350.9 264 320zM488 264C518.9 264 544 289.1 544 320C544 350.9 518.9 376 488 376C457.1 376 432 350.9 432 320C432 289.1 457.1 264 488 264z"/></svg></button>
		<ul class="border-2 border border-primary dropdown-menu dropdown-menu p-2 rounded-2 shadow-lg" style="">
				<li><a class="dropdown-item text-wrap rounded fw-bold" data-bs-toggle="modal" data-bs-target="#userUpdateModal"><svg class="me-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" height="25px" width="25px" fill="currentColor"><path d="M256.5 72C322.8 72 376.5 125.7 376.5 192C376.5 258.3 322.8 312 256.5 312C190.2 312 136.5 258.3 136.5 192C136.5 125.7 190.2 72 256.5 72zM226.7 368L286.1 368L287.6 368C274.7 394.8 279.8 426.2 299.1 447.5C278.9 469.8 274.3 503.3 289.7 530.9L312.2 571.3C313.1 572.9 314.1 574.5 315.1 576L78.1 576C61.7 576 48.4 562.7 48.4 546.3C48.4 447.8 128.2 368 226.7 368zM432.6 311.6C432.6 298.3 443.3 287.6 456.6 287.6L504.6 287.6C517.9 287.6 528.6 298.3 528.6 311.6L528.6 317.7C528.6 336.6 552.7 350.5 569.1 341.1L574.1 338.2C585.7 331.5 600.6 335.6 607.1 347.3L629.5 387.5C635.7 398.7 632.1 412.7 621.3 419.5L616.6 422.4C600.4 432.5 600.4 462.3 616.6 472.5L621.2 475.4C632 482.2 635.7 496.2 629.5 507.4L607 547.8C600.5 559.5 585.6 563.7 574 556.9L569.1 554C552.7 544.5 528.6 558.5 528.6 577.4L528.6 583.5C528.6 596.8 517.9 607.5 504.6 607.5L456.6 607.5C443.3 607.5 432.6 596.8 432.6 583.5L432.6 577.6C432.6 558.6 408.4 544.6 391.9 554.1L387.1 556.9C375.5 563.6 360.7 559.5 354.1 547.8L331.5 507.4C325.3 496.2 328.9 482.1 339.8 475.3L344.2 472.6C360.5 462.5 360.5 432.5 344.2 422.4L339.7 419.6C328.8 412.8 325.2 398.7 331.4 387.5L353.9 347.2C360.4 335.5 375.3 331.4 386.8 338.1L391.6 340.9C408.1 350.4 432.3 336.4 432.3 317.4L432.3 311.5zM532.5 447.8C532.5 419.1 509.2 395.8 480.5 395.8C451.8 395.8 428.5 419.1 428.5 447.8C428.5 476.5 451.8 499.8 480.5 499.8C509.2 499.8 532.5 476.5 532.5 447.8z"/></svg> <b>UPDATE PROFILE</b></a></li>
				<li><a class="dropdown-item rounded fw-bold" id="delete-user-option" href="/delete_user"><svg class="me-2" xmlns="http://www.w3.org/2000/svg" height="25px" fill="currentColor" viewBox="0 0 640 640"><path d="M136 192C136 125.7 189.7 72 256 72C322.3 72 376 125.7 376 192C376 258.3 322.3 312 256 312C189.7 312 136 258.3 136 192zM48 546.3C48 447.8 127.8 368 226.3 368L285.7 368C384.2 368 464 447.8 464 546.3C464 562.7 450.7 576 434.3 576L77.7 576C61.3 576 48 562.7 48 546.3zM472 232L616 232C629.3 232 640 242.7 640 256C640 269.3 629.3 280 616 280L472 280C458.7 280 448 269.3 448 256C448 242.7 458.7 232 472 232z"/></svg><b>DELETE USER</b></a></li>
			<li><hr class="dropdown-divider"></li>
				<li><a class="dropdown-item rounded fw-bold" href="/logout"><svg  class="me-2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" height="25px" height="25px" fill="currentColor"><path d="M569 337C578.4 327.6 578.4 312.4 569 303.1L425 159C418.1 152.1 407.8 150.1 398.8 153.8C389.8 157.5 384 166.3 384 176L384 256L272 256C245.5 256 224 277.5 224 304L224 336C224 362.5 245.5 384 272 384L384 384L384 464C384 473.7 389.8 482.5 398.8 486.2C407.8 489.9 418.1 487.9 425 481L569 337zM224 160C241.7 160 256 145.7 256 128C256 110.3 241.7 96 224 96L160 96C107 96 64 139 64 192L64 448C64 501 107 544 160 544L224 544C241.7 544 256 529.7 256 512C256 494.3 241.7 480 224 480L160 480C142.3 480 128 465.7 128 448L128 192C128 174.3 142.3 160 160 160L224 160z"/></svg><b>LOG OUT</b></a></li>
		</ul>
		<form method="post" class="needs-validation" novalidate>
			<br>
			<p class="text-center h2 fw-bold"><b><span class="h1 fw-bold"><b>HELLO</b> <i><b>{{username}}</b></i>,</span><br><br>
				DO YOU WANT TO <button type="submit" name="action" style="" class="border-2 rounded-3 fw-bold shadow-sm btn btn-primary btn-lg create-btn" value="create"><b>CREATE</b></button> A NEW CHANNEL<br>
				OR <button type="submit" name="action" style="" class="border-2 btn rounded-3 shadow-sm fw-bold  btn-primary btn-lg" value="join"><b>JOIN</b></button> AN EXISTING ONES<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="130px" heigth="300px" class="rotate-me"><path fill="none" stroke="#0d6efd" stroke-width="13" d="M224 224C224 171 267 128 320 128C373 128 416 171 416 224C416 266.7 388.1 302.9 349.5 315.4C321.1 324.6 288 350.7 288 392L288 416C288 433.7 302.3 448 320 448C337.7 448 352 433.7 352 416L352 392C352 390.3 352.6 387.9 355.5 384.7C358.5 381.4 363.4 378.2 369.2 376.3C433.5 355.6 480 295.3 480 224C480 135.6 408.4 64 320 64C231.6 64 160 135.6 160 224C160 241.7 174.3 256 192 256C209.7 256 224 241.7 224 224zM320 576C342.1 576 360 558.1 360 536C360 513.9 342.1 496 320 496C297.9 496 280 513.9 280 536C280 558.1 297.9 576 320 576z"/></svg></b></p>
		</form>
	</div>
		</div>
			{% if info is defined %}

			{% endif %}
			{% if error is defined %}

			</div>
			{% endif %}

	<!-- modal is below it -->
	<div class="modal fade" id="userUpdateModal" data-bs-backdrop="static" tabindex="-1">
		<div class="modal-dialog rounded-3 border border-primary border-2">
			<div class="modal-content">
				<form method="post" action="/update_user" class="needs-validation" novalidate>
					<br>
					<p class="h3 text-center fw-bold mt-4"><b>UPDATE USER PROFILE</b></p>
					<div class="modal-body d-flex flex-column justify-content-center p-4">
						<label for="usernameOfModal" class="form-label fw-semibold mb-1">NEW USERNAME</label>
						<input type="text" maxlength="30" class="border-2 shadow-sm form-control fw-light rounded-3 mb-2" value ="{{username}}" placeholder="ENTER NEW USERNAME" name="usernameOfModal" required/>
						<label for="passwordInput" class="form-label fw-semibold mt-2">NEW PASSWORD</label>
						<div class="input-group mt-1">
							<input type="text" style="" maxlength="30" class="border-2 fw-light form-control me-2 rounded-3 shadow-sm" placeholder="ENTER NEW PASSWORD" name="passwordInput" id="passwordInput" required>
							<button class="border-2 rounded-3 btn btn-secondary shadow-sm" type="button" id="togglePassword"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" width="30px" height="30px" fill="currentColor"><path d="M320 96C239.2 96 174.5 132.8 127.4 176.6C80.6 220.1 49.3 272 34.4 307.7C31.1 315.6 31.1 324.4 34.4 332.3C49.3 368 80.6 420 127.4 463.4C174.5 507.1 239.2 544 320 544C400.8 544 465.5 507.2 512.6 463.4C559.4 419.9 590.7 368 605.6 332.3C608.9 324.4 608.9 315.6 605.6 307.7C590.7 272 559.4 220 512.6 176.6C465.5 132.9 400.8 96 320 96zM176 320C176 240.5 240.5 176 320 176C399.5 176 464 240.5 464 320C464 399.5 399.5 464 320 464C240.5 464 176 399.5 176 320zM320 256C320 291.3 291.3 320 256 320C244.5 320 233.7 317 224.3 311.6C223.3 322.5 224.2 333.7 227.2 344.8C240.9 396 293.6 426.4 344.8 412.7C396 399 426.4 346.3 412.7 295.1C400.5 249.4 357.2 220.3 311.6 224.3C316.9 233.6 320 244.4 320 256z"/></svg></button>
						</div>
					</div>
					<div class="d-flex justify-content-center mb-4">
						<button style="width:100px;" type="button" class="border-2 btn me-3 btn-danger shadow-sm fw-bold" data-bs-dismiss="modal"><b>CLOSE</b></button>
						<button style="width:100px;" type="submit" class="border-2 btn btn-success shadow-sm fw-bold" name="action" value="updateUser"><b>UPDATE</b></button>
						<br>
						</div>
				</form> 
			</div>
		</div>
	</div>
	{% endblock %}
